name: Build and Test

on:
  # Run any time code is pushed to main.
  push:
    branches:
      - main

  # Run on all pull requests
  pull_request:

  workflow_dispatch:

jobs:
  build-and-test-ios:
    name: Build Gauntlet iOS
    uses: krogerco/Shared-CI-Workflow-iOS/.github/workflows/build.yml@v1.0.0
    with:
      FILENAME: Gauntlet.xcworkspace

  build-and-test-legacy-ios:
    name: Build GauntletLegacy iOS
    uses: krogerco/Shared-CI-Workflow-iOS/.github/workflows/build.yml@v1.0.0
    with:
      FILENAME: Gauntlet.xcworkspace
      SCHEME: GauntletLegacy
